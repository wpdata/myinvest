# ğŸ”§ å‚æ•°ä¼˜åŒ–å™¨å¿«é€Ÿä¿®å¤æŒ‡å—

## é—®é¢˜ï¼šæ•°æ®ä¸è¶³é”™è¯¯

```
ValueError: Insufficient data: 919 days available, 1095 days required
```

---

## è§£å†³æ–¹æ¡ˆï¼ˆ2é€‰1ï¼‰

### æ–¹æ¡ˆ 1: æ‰©å¤§æ—¥æœŸèŒƒå›´ï¼ˆâœ… æ¨èï¼‰

**ä¿®æ”¹å¼€å§‹æ—¥æœŸï¼Œç¡®ä¿è‡³å°‘3å¹´æ•°æ®ï¼š**

```
å¼€å§‹æ—¥æœŸ: 2022-01-23 æˆ–æ›´æ—©  â† è®¡ç®—å…¬å¼ï¼šä»Šå¤© - 1095å¤©
ç»“æŸæ—¥æœŸ: 2025-10-23 (ä»Šå¤©)

æ•°æ®èŒƒå›´: 1095+ å¤© âœ…
```

**å½“å‰æ—¥æœŸå¯¹åº”çš„æ¨èå¼€å§‹æ—¥æœŸï¼š**

| ä»Šå¤©æ—¥æœŸ | æ¨èå¼€å§‹æ—¥æœŸ | è¯´æ˜ |
|---------|-------------|------|
| 2025-10-23 | 2022-10-23 æˆ–æ›´æ—© | éœ€è¦3å¹´æ•°æ® |
| 2025-01-01 | 2022-01-01 æˆ–æ›´æ—© | éœ€è¦3å¹´æ•°æ® |
| 2024-06-01 | 2021-06-01 æˆ–æ›´æ—© | éœ€è¦3å¹´æ•°æ® |

**æ“ä½œæ­¥éª¤ï¼š**
1. åœ¨ä¼˜åŒ–å™¨é¡µé¢ï¼Œæ‰¾åˆ°ä¾§è¾¹æ "å¼€å§‹æ—¥æœŸ"è¾“å…¥æ¡†
2. æ”¹ä¸º **2022-01-01** æˆ–æ›´æ—©
3. ç‚¹å‡»"å¼€å§‹ä¼˜åŒ–"

---

### æ–¹æ¡ˆ 2: å…³é—­å‰æ¨éªŒè¯ï¼ˆâš¡ æœ€å¿«ï¼‰

å¦‚æœä½ åªæƒ³å¿«é€Ÿæµ‹è¯•å‚æ•°ä¼˜åŒ–ï¼Œå¯ä»¥æš‚æ—¶å…³é—­å‰æ¨éªŒè¯ï¼š

**æ“ä½œæ­¥éª¤ï¼š**
1. åœ¨ä¾§è¾¹æ æ‰¾åˆ° **"é«˜çº§è®¾ç½®"** å±•å¼€
2. å–æ¶ˆå‹¾é€‰ **"å¯ç”¨å‰æ¨éªŒè¯"** âœ… â†’ âŒ
3. ç°åœ¨åªéœ€è¦ **365å¤©ï¼ˆ1å¹´ï¼‰** æ•°æ®å³å¯
4. ç‚¹å‡»"å¼€å§‹ä¼˜åŒ–"

**æ³¨æ„ï¼š** å…³é—­å‰æ¨éªŒè¯åï¼Œæ— æ³•æ£€æµ‹è¿‡æ‹Ÿåˆé£é™©ï¼

---

## æ¨èé…ç½®ï¼ˆç¡®ä¿æˆåŠŸï¼‰

### é…ç½® A: å®Œæ•´éªŒè¯ï¼ˆæ¨èï¼‰

```yaml
è‚¡ç¥¨ä»£ç : 600519.SH

æ—¥æœŸèŒƒå›´:
  å¼€å§‹: 2021-01-01  â† è‡³å°‘4å¹´
  ç»“æŸ: 2025-01-01

å‚æ•°èŒƒå›´:
  æ­¢æŸ: 5-25% (æ­¥é•¿5) â†’ 5ä¸ªå€¼
  æ­¢ç›ˆ: 10-40% (æ­¥é•¿5) â†’ 7ä¸ªå€¼
  ä»“ä½: 10-40% (æ­¥é•¿10) â†’ 4ä¸ªå€¼

æ€»ç»„åˆ: 5 Ã— 7 Ã— 4 = 140 ç§
é¢„è®¡è€—æ—¶: ~5åˆ†é’Ÿ

é«˜çº§è®¾ç½®:
  âœ… å¯ç”¨å‰æ¨éªŒè¯
  ä¼˜åŒ–ç›®æ ‡: å¤æ™®æ¯”ç‡
```

---

### é…ç½® B: å¿«é€Ÿæµ‹è¯•ï¼ˆä¸æ¨èï¼Œä»…ç”¨äºéªŒè¯ç³»ç»Ÿå·¥ä½œï¼‰

```yaml
è‚¡ç¥¨ä»£ç : 600519.SH

æ—¥æœŸèŒƒå›´:
  å¼€å§‹: 2024-01-01  â† ä»…1å¹´
  ç»“æŸ: 2025-01-01

å‚æ•°èŒƒå›´:
  æ­¢æŸ: 5-15% (æ­¥é•¿5) â†’ 3ä¸ªå€¼
  æ­¢ç›ˆ: 10-30% (æ­¥é•¿10) â†’ 3ä¸ªå€¼
  ä»“ä½: 20-20% (æ­¥é•¿10) â†’ 1ä¸ªå€¼ (å›ºå®š)

æ€»ç»„åˆ: 3 Ã— 3 Ã— 1 = 9 ç§
é¢„è®¡è€—æ—¶: ~30ç§’

é«˜çº§è®¾ç½®:
  âŒ ç¦ç”¨å‰æ¨éªŒè¯  â† å…³é”®
  ä¼˜åŒ–ç›®æ ‡: å¤æ™®æ¯”ç‡
```

---

## ä¸ºä»€ä¹ˆéœ€è¦3å¹´æ•°æ®ï¼Ÿ

å‰æ¨éªŒè¯éœ€è¦ï¼š
- **è®­ç»ƒæœŸï¼š2å¹´ï¼ˆ730å¤©ï¼‰** - ç”¨äºä¼˜åŒ–å‚æ•°
- **æµ‹è¯•æœŸï¼š1å¹´ï¼ˆ365å¤©ï¼‰** - ç”¨äºéªŒè¯å‚æ•°
- **æ€»è®¡ï¼š3å¹´ï¼ˆ1095å¤©ï¼‰** æœ€ä½è¦æ±‚

**ç›®çš„ï¼š** é˜²æ­¢è¿‡æ‹Ÿåˆï¼ˆåœ¨å†å²æ•°æ®ä¸Šè¡¨ç°å¥½ï¼Œä½†å®ç›˜ä¼šäºé’±ï¼‰

---

## å¸¸è§é”™è¯¯å’Œè§£å†³æ–¹æ¡ˆ

### é”™è¯¯ 1: "919 days available, 1095 days required"

**åŸå› ï¼š** å¼€å§‹æ—¥æœŸå¤ªæ™š
**è§£å†³ï¼š** æ”¹ä¸º 2022-01-01 æˆ–æ›´æ—©

---

### é”™è¯¯ 2: "æœªæ‰¾åˆ°æœ‰æ•ˆçš„å‚æ•°ç»„åˆ"

**åŸå› ï¼š** ç­–ç•¥åœ¨è¯¥æ—¶æœŸæ²¡æœ‰è§¦å‘ä»»ä½•ä¿¡å·
**è§£å†³ï¼š**
1. æ‰©å¤§å‚æ•°èŒƒå›´
2. æ¢ä¸€ä¸ªè‚¡ç¥¨ï¼ˆå¦‚æ²ªæ·±300ETF: 510300.SHï¼‰
3. é€‰æ‹©ä¸åŒçš„ç­–ç•¥

---

### é”™è¯¯ 3: "APIæ•°æ®è·å–å¤±è´¥"

**åŸå› ï¼š** ç½‘ç»œé—®é¢˜æˆ–APIé™æµ
**è§£å†³ï¼š**
1. æ£€æŸ¥ç½‘ç»œè¿æ¥
2. ç­‰å¾…1-2åˆ†é’Ÿåé‡è¯•
3. ä½¿ç”¨ç¼“å­˜æ•°æ®ï¼ˆ`prefer_cache=True`ï¼‰

---

## æµ‹è¯•é…ç½®æ˜¯å¦æ­£ç¡®

è¿è¡Œè¿™ä¸ªå¿«é€Ÿæ£€æŸ¥ï¼š

```python
from datetime import datetime, timedelta

# ä½ çš„é…ç½®
start_date = datetime(2020, 1, 1)
end_date = datetime.now()

# è®¡ç®—å¤©æ•°
days_diff = (end_date - start_date).days

print(f"æ•°æ®èŒƒå›´: {days_diff} å¤©")
print(f"æ˜¯å¦è¶³å¤Ÿ: {'âœ… æ˜¯' if days_diff >= 1095 else 'âŒ å¦'}")

if days_diff < 1095:
    required_start = end_date - timedelta(days=1095)
    print(f"æ¨èå¼€å§‹æ—¥æœŸ: {required_start.strftime('%Y-%m-%d')}")
```

---

## ç«‹å³å¯ç”¨çš„æ—¥æœŸé…ç½®

**å¤åˆ¶ç²˜è´´è¿™äº›æ—¥æœŸï¼š**

```
# 4å¹´æ•°æ®ï¼ˆæ¨èï¼‰
å¼€å§‹: 2021-10-23
ç»“æŸ: 2025-10-23

# 5å¹´æ•°æ®ï¼ˆæ›´ç¨³å¥ï¼‰
å¼€å§‹: 2020-10-23
ç»“æŸ: 2025-10-23

# 6å¹´æ•°æ®ï¼ˆæœ€ä½³ï¼‰
å¼€å§‹: 2019-10-23
ç»“æŸ: 2025-10-23
```

---

ç°åœ¨è¯•è¯•ä¼˜åŒ–å™¨ï¼Œåº”è¯¥å¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼ ğŸš€
